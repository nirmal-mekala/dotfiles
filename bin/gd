#!/usr/bin/env bash

set -e

# Ensure two arguments are provided
if [ "$#" -ne 2 ]; then
    echo "Usage: $0 <search_term> <branch_name>"
    exit 1
fi

SEARCH_TERM="$1"
BRANCH_NAME="$2"

git diff "$BRANCH_NAME"... -G"$SEARCH_TERM" --name-only | nvim  -c "set errorformat=%f" -c "cgetbuffer" -c "bd!" -c "Qft" -
